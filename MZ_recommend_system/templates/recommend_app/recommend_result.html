
{% extends "base.html" %}
{% block content %}
{% load static %}
<link rel="stylesheet" href="../static/css/style.css" type="text/css">
<link rel="stylesheet" href="../static/css/aquamarine.scss" type="text/css">


<script>
    function loadingProcess() {
        console.log("test");
        var maskHeight = $(document).height();
    var maskWidth  = window.document.body.clientWidth;
console.log(maskWidth, maskHeight);
    //화면에 출력할 마스크를 설정해줍니다.
    var mask       = "<div id='mask' style='position:absolute; z-index:9000; background-color:#000000; display:none; left:0; top:0;'></div>";
    var loadingImg = '';

    loadingImg += "<div id='loadingImg'>";
    loadingImg += " <img src='../../static/img/loading.gif' style='position: relative; display: block; margin: 0px auto;'/>";
    loadingImg += "</div>";
    console.log("test2");
    //화면에 레이어 추가
    $('body')
        .append(mask)
        .append(loadingImg)

    //마스크의 높이와 너비를 화면 것으로 만들어 전체 화면을 채웁니다.
    $('#mask').css({
            'width' : maskWidth
            , 'height': maskHeight
            , 'opacity' : '0.3'
    });

    //마스크 표시
    $('#mask').show();

    //로딩중 이미지 표시
    $('#loadingImg').show();
    }

    function closeLoadingWithMask() {
    $('#mask, #loadingImg').hide();
    $('#mask, #loadingImg').remove();
}
</script>

<style>
    	.tiles {

		display: flex;

		flex-wrap: wrap;
		postiion: relative;
		margin: -2.5em 0 0 -2.5em;
	}
.tiles article {

			transition: transform 0.5s ease, opacity 0.5s ease;
			position: relative;
			width: calc(33.33333% - 2.5em);
			margin: 2.5em 0 0 2.5em;
		}


.vertical {
    border-left: 0.5px solid black;
    height: 700px;
    position:absolute;
    top : 20%;
    left: 38%;
}
.verticalright {
    border-left: 0.5px solid black;
    height: 700px;
    position:absolute;
    top : 20%;
    right: 40%;
}



</style>
<div class = "vertical"></div>
<div class = "verticalright"></div>

<div class="py-5 p-1 border-right border-left" id="allresultsection" >

<!--    <hr id="leftline">-->
<!--    <hr id="rightline">-->
<!--    <div class="container  border-left border-right border-dark">-->
    <div class="container d-flex justify-content-center" id="resultcontainer" >
        <h1 class="text-center" >추천하는 동네는... </h1>

    </div>




    <div class="container  d-flex justify-content-center " id="titlecontainer" >
        <h2 class="text-center" id="clustertitle"> {{cluster_data.title}} <span class="lastword">입니다.</span></h2>
    </div>




    <div class="container  d-flex justify-content-center m-auto " id="tagcontainer" >
        <section class="tiles">
        {% for tag in cluster_data.tags %}
<!--            <article  style="background-color: #7ecaf6;">-->
<!--&lt;!&ndash;                            <span class="image">&ndash;&gt;-->
<!--&lt;!&ndash;                                <img src="images/pic02.jpg" alt="" />&ndash;&gt;-->
<!--&lt;!&ndash;                            </span>&ndash;&gt;-->
            {{tag}}&nbsp;


<!--            </article>-->
         {% endfor %}
        </section>
    </div>
</div>

    <div class="py-5" >
        <div class="container d-flex justify-content-center">
            <div class="row w-50" id="resulticon">
                <div class="col-md-2">

                </div>

            {% for gu,dong,code in result %}
                <div class="col-md-2  mx-2 d-flex justify-content-center" id="resultdong">
                    <form action="{% url 'recommend_app:dongDetail' %}" method="post">
                    {% csrf_token %}
                    <button onclick ="loadingProcess()" class="resulttobutton btn " name="dong_info" id="{{ forloop.counter }}dong"  value="{{gu}} {{dong}} {{code}}">
                        <img src="../../static/img/home.gif" width="60"><br>{{gu}} {{dong}}</br>
                    </button>
                    </form>
                </div>
            {% endfor %}


                <div class="col-md-2">

                </div>

            </div>




    <div class="container">
        <div class="row" >
        {% for gu,dong,code in result %}
            <div class="col-md-4" id="resultdong">
                <form action="{% url 'recommend_app:dongDetail' %}" method="post">
                {% csrf_token %}
                <button onclick ="loadingProcess()" class="resulttobutton btn " name="dong_info" id="{{ forloop.counter }}dong"  value="{{gu}} {{dong}} {{code}}">
                    <img src="../../static/img/home.gif" width="60">{{gu}} {{dong}}
                </button>
                </form>
            </div>
        {% endfor %}
            <div class="col-md-6"></div>
        </div>
    </div>

    <div class="contianer">
        <div class="col-md-6">
            {% for value in sim_list %}
                <div class="col-md-4" id="similarity_dong">
                    {{value}}
                </div>
            {% endfor %}
        </div>
    </div>




    <div class="py-5" >

    </div>

<style>
    #resulticon{
        width: 120px;



    }

    #resultcontainer{
        width:1280px;
        height:100px;
        margin-top:100px;
        font-family: 'Pretendard-Regular';
        position : relative;
        left : -10px;


    }
    .resulttobutton{
        font-family: 'Pretendard-Regular';
        font-weight: 400;
        font-size : 15px;
        color : primary;
        margin-bottom: 100px;
        position : relative;
        left : -10px;


    }

    h1{
        font-family: 'Pretendard-Regular';

        font-size : 20px;
        font-weight : 400;

    }

    .lastword{
        font-weight : 400;
        color:#151515;
    }




    #clustertitle{
        font-family: 'Pretendard-Regular';
        font-size : 30px;
        font-weight : 600;
        color : #12bbad;
        margin-left : -1%;
        margin-top:-60px;
        margin-bottom : 45px;

    }
    .tiles{
        margin-left:-2%;

    }
    #tagcontainer{
        font-family: 'Pretendard-Regular';
        font-size : 15px;
        font-weight : 600;
        color : #151515;

        align-content: center;


    }

    #resultdong{

        font-family: 'Pretendard-Regular';
        font-size:60px;
        position : relative;;
        left : 1%;
    }

</style>

{% endblock %}